"use strict";(self.webpackChunkbooks_test=self.webpackChunkbooks_test||[]).push([[595],{9595:(Ei,ct,l)=>{l.r(ct),l.d(ct,{BooksModule:()=>Fi});var u=l(6895),i=l(8256),dt=(l(2076),l(9751)),ht=(l(4742),l(8421),l(3269),l(5403));l(3268),l(1810),l(4004);const f=new i.OlP("NgValueAccessor");function In(n,e){if(1&n&&(i.TgZ(0,"div",4),i._uU(1),i.qZA()),2&n){const t=i.oxw();i.xp6(1),i.Oqu(t.labelText)}}function Bn(n,e){if(1&n&&i._UZ(0,"i"),2&n){const t=i.oxw(2);i.Gre("star-empty ",t.classEmpty,"")}}function Pn(n,e){if(1&n&&i._UZ(0,"i"),2&n){const t=i.oxw(2);i.Gre("star-half ",t.classHalf,"")}}function Gn(n,e){if(1&n&&i._UZ(0,"i"),2&n){const t=i.oxw(2);i.Gre("star-filled ",t.classFilled,"")}}function Hn(n,e){if(1&n&&(i.O4$(),i.TgZ(0,"svg",10),i._UZ(1,"use",11),i.qZA()),2&n){const t=i.oxw(2);i.xp6(1),i.uIk("href",t.pathEmpty,null,"xlink")}}function Un(n,e){if(1&n&&(i.O4$(),i.TgZ(0,"svg",12),i._UZ(1,"use",11),i.qZA()),2&n){const t=i.oxw(2);i.xp6(1),i.uIk("href",t.pathHalf,null,"xlink")}}function Zn(n,e){if(1&n&&(i.O4$(),i.TgZ(0,"svg",13),i._UZ(1,"use",11),i.qZA()),2&n){const t=i.oxw(2);i.xp6(1),i.uIk("href",t.pathFilled,null,"xlink")}}function qn(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",5),i.NdJ("mouseenter",function(){const s=i.CHM(t).$implicit,a=i.oxw();return i.KtG(a.onStarHover(s))})("click",function(){const s=i.CHM(t).$implicit,a=i.oxw();return i.KtG(a.onStarClicked(s))}),i.YNc(1,Bn,1,3,"i",6),i.YNc(2,Pn,1,3,"i",6),i.YNc(3,Gn,1,3,"i",6),i.YNc(4,Hn,2,1,"svg",7),i.YNc(5,Un,2,1,"svg",8),i.YNc(6,Zn,2,1,"svg",9),i.qZA()}if(2&n){const t=i.oxw();i.xp6(1),i.Q6J("ngIf",!t.svgVisible()),i.xp6(1),i.Q6J("ngIf",!t.svgVisible()),i.xp6(1),i.Q6J("ngIf",!t.svgVisible()),i.xp6(1),i.Q6J("ngIf",t.svgVisible()),i.xp6(1),i.Q6J("ngIf",t.svgVisible()),i.xp6(1),i.Q6J("ngIf",t.svgVisible())}}function jn(n,e){if(1&n&&(i.TgZ(0,"div",4),i._uU(1),i.qZA()),2&n){const t=i.oxw();i.xp6(1),i.Oqu(t.labelText)}}function Ln(n,e){if(1&n&&i._UZ(0,"i"),2&n){const t=i.oxw(2);i.Gre("star-empty ",t.classEmpty,"")}}function Yn(n,e){if(1&n&&i._UZ(0,"i"),2&n){const t=i.oxw(2);i.Gre("star-half ",t.classHalf,"")}}function $n(n,e){if(1&n&&i._UZ(0,"i"),2&n){const t=i.oxw(2);i.Gre("star-filled ",t.classFilled,"")}}function zn(n,e){if(1&n&&(i.O4$(),i.TgZ(0,"svg",10),i._UZ(1,"use",11),i.qZA()),2&n){const t=i.oxw(2);i.xp6(1),i.uIk("href",t.pathEmpty,null,"xlink")}}function Wn(n,e){if(1&n&&(i.O4$(),i.TgZ(0,"svg",12),i._UZ(1,"use",11),i.qZA()),2&n){const t=i.oxw(2);i.xp6(1),i.uIk("href",t.pathHalf,null,"xlink")}}function Jn(n,e){if(1&n&&(i.O4$(),i.TgZ(0,"svg",13),i._UZ(1,"use",11),i.qZA()),2&n){const t=i.oxw(2);i.xp6(1),i.uIk("href",t.pathFilled,null,"xlink")}}function Qn(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",5),i.NdJ("mouseenter",function(){const s=i.CHM(t).$implicit,a=i.oxw();return i.KtG(a.onStarHover(s))})("click",function(){const s=i.CHM(t).$implicit,a=i.oxw();return i.KtG(a.onStarClicked(s))}),i.YNc(1,Ln,1,3,"i",6),i.YNc(2,Yn,1,3,"i",6),i.YNc(3,$n,1,3,"i",6),i.YNc(4,zn,2,1,"svg",7),i.YNc(5,Wn,2,1,"svg",8),i.YNc(6,Jn,2,1,"svg",9),i.qZA()}if(2&n){const t=i.oxw();i.xp6(1),i.Q6J("ngIf",!t.svgVisible()),i.xp6(1),i.Q6J("ngIf",!t.svgVisible()),i.xp6(1),i.Q6J("ngIf",!t.svgVisible()),i.xp6(1),i.Q6J("ngIf",t.svgVisible()),i.xp6(1),i.Q6J("ngIf",t.svgVisible()),i.xp6(1),i.Q6J("ngIf",t.svgVisible())}}class y{static getStarsArray(e){const t=[];for(let r=0;r<e;r++)t.push(r+1);return t}static getHalfStarVisible(e){return Math.abs(e%1)>0}static getColor(e,t,r){if(r)return r;const o=t/3;let s="default";return(e=e||0)>0&&(s="negative"),e>o&&(s="ok"),e>2*o&&(s="positive"),s}static isDigitKeyEventCode(e){return 0===e.indexOf("Digit")}}class P{constructor(){this._classEmpty="default-star-empty-icon",this._classHalf="default-star-half-icon",this._classFilled="default-star-filled-icon",this._numOfStars=5,this._size="medium",this._labelPosition="left",this._speed="noticeable",this._starType="svg",this._assetsPath="assets/images/",this._svgPath=this.assetsPath+"star-rating.icons.svg",this._svgEmptySymbolId="star-empty",this._svgHalfSymbolId="star-half",this._svgFilledSymbolId="star-filled",this._svgPathEmpty=this.svgPath+"#"+this.svgEmptySymbolId,this._svgPathHalf=this.svgPath+"#"+this.svgHalfSymbolId,this._svgPathFilled=this.svgPath+"#"+this.svgFilledSymbolId}get classEmpty(){return this._classEmpty}set classEmpty(e){this._classEmpty=e}get classHalf(){return this._classHalf}set classHalf(e){this._classHalf=e}get classFilled(){return this._classFilled}set classFilled(e){this._classFilled=e}get numOfStars(){return this._numOfStars}set numOfStars(e){this._numOfStars=e}get size(){return this._size}set size(e){this._size=e}get staticColor(){return this._staticColor}set staticColor(e){this._staticColor=e}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition=e}get speed(){return this._speed}set speed(e){this._speed=e}get starType(){return this._starType}set starType(e){this._starType=e}get assetsPath(){return this._assetsPath}set assetsPath(e){this._assetsPath=e}get svgPath(){return this._svgPath}set svgPath(e){this._svgPath=e}get svgEmptySymbolId(){return this._svgEmptySymbolId}set svgEmptySymbolId(e){this._svgEmptySymbolId=e}get svgHalfSymbolId(){return this._svgHalfSymbolId}set svgHalfSymbolId(e){this._svgHalfSymbolId=e}get svgFilledSymbolId(){return this._svgFilledSymbolId}set svgFilledSymbolId(e){this._svgFilledSymbolId=e}get svgPathEmpty(){return this._svgPathEmpty}set svgPathEmpty(e){this._svgPathEmpty=e}get svgPathHalf(){return this._svgPathHalf}set svgPathHalf(e){this._svgPathHalf=e}get svgPathFilled(){return this._svgPathFilled}set svgPathFilled(e){this._svgPathFilled=e}getColor(e,t,r){if(r)return r;const o=t/3;let s="default";return(e=e||0)>0&&(s="negative"),e>o&&(s="ok"),e>2*o&&(s="positive"),s}getHalfStarVisible(e){return Math.abs(e%1)>0}}let ye=(()=>{class n{constructor(t){this.config=t,this.classEmpty=this.config.classEmpty,this.classHalf=this.config.classHalf,this.classFilled=this.config.classFilled,this.pathEmpty=this.config.svgPathEmpty,this.pathHalf=this.config.svgPathHalf,this.pathFilled=this.config.svgPathFilled,"getColor"in this.config&&"function"==typeof this.config.getColor&&(this.getColor=this.config.getColor),"getHalfStarVisible"in this.config&&"function"==typeof this.config.getHalfStarVisible&&(this.getHalfStarVisible=this.config.getHalfStarVisible),this.numOfStars=this.config.numOfStars,this.rating=0,this.step=1}get showHalfStars(){return this._showHalfStars}set showHalfStars(t){this._showHalfStars=!!t,this.setHalfStarVisible()}get id(){return this._id}set id(t){this._id=t||""}get focus(){return this._focus}set focus(t){this._focus=!!t}get labelText(){return this._labelText}set labelText(t){this._labelText=t}get labelPosition(){return this._labelPosition}set labelPosition(t){this._labelPosition=t||this.config.labelPosition}get labelVisible(){return this._labelVisible}set labelVisible(t){this._labelVisible=!!t}get hoverEnabled(){return this._hoverEnabled}set hoverEnabled(t){this._hoverEnabled=void 0!==t&&!!t}get staticColor(){return this._staticColor||this.config.staticColor||void 0}set staticColor(t){this._staticColor=t,this.setColor()}get direction(){return this._direction}set direction(t){this._direction=t||void 0}get numOfStars(){return this._numOfStars}set numOfStars(t){this._numOfStars=t>0?t:this.config.numOfStars,this.stars=y.getStarsArray(this.numOfStars),this.setColor()}get hoverRating(){return this._hoverRating}set hoverRating(t){this._hoverRating=t>0?t:0}get speed(){return this._speed}set speed(t){this._speed=t||this.config.speed}get size(){return this._size||this.config.size}set size(t){this._size=t}get starType(){return this._starType||this.config.starType}set starType(t){this._starType=t}get space(){return this._space}set space(t){this._space=t}get readOnly(){return this._readOnly}set readOnly(t){this._readOnly=!!t}get disabled(){return this._disabled}set disabled(t){this._disabled=!!t}get step(){return this._step}set step(t){this._step=t>0?t:1}get rating(){return this._rating}set rating(t){this.setRating(t)}setRating(t){let r=0;t>=0&&t<=this.numOfStars&&(r=t),t>this.numOfStars&&(r=this.numOfStars),this._rating=r,this.ratingAsInteger=parseInt(this._rating?.toString(),10),this.setHalfStarVisible(),this.setColor()}svgVisible(){return"svg"===this.starType}interactionPossible(){return!this.readOnly&&!this.disabled}setColor(t=!1){const r=t?this.hoverRating:this.rating;this.color="function"==typeof this.getColor?this.getColor(r,this.numOfStars,this.staticColor):y.getColor(r,this.numOfStars,this.staticColor)}setHalfStarVisible(){this.halfStarVisible=!!this.showHalfStars&&("function"==typeof this.getHalfStarVisible?this.getHalfStarVisible(this.rating):y.getHalfStarVisible(this.rating))}getComponentClassNames(){const t=[];return t.push(this.rating?"value-"+this.ratingAsInteger:"value-0"),t.push(this.halfStarVisible?"half":""),t.push(this.hoverEnabled?"hover":""),t.push(this.hoverEnabled?this.hoverRating?"hover-"+this.hoverRating:"hover-0":""),t.push(this.space?"space-"+this.space:""),t.push(this.labelPosition?"label-"+this.labelPosition:""),t.push(this.color?"color-"+this.color:""),t.push(this.starType?"star-"+this.starType:""),t.push(this.speed),t.push(this.size),t.push(this.readOnly?"read-only":""),t.push(this.disabled?"disabled":""),t.push(this.direction?"direction-"+this.direction:""),t.join(" ")}increment(){const t=Math.abs(this.rating%this.step);this.rating=this.rating+(t>0?this.step-t:this.step)}decrement(){const t=Math.abs(this.rating%this.step);this.rating=this.rating-(t>0?t:this.step)}reset(){this.rating=0}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(P))},n.\u0275cmp=i.Xpm({type:n,selectors:[["placeholder-star-rating"]],inputs:{showHalfStars:"showHalfStars",id:"id",focus:"focus",labelText:"labelText",labelPosition:"labelPosition",labelVisible:"labelVisible",hoverEnabled:"hoverEnabled",staticColor:"staticColor",direction:"direction",numOfStars:"numOfStars",hoverRating:"hoverRating",speed:"speed",size:"size",starType:"starType",space:"space",readOnly:"readOnly",disabled:"disabled",step:"step",rating:"rating"},decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),at=(()=>{class n extends ye{constructor(t){super(t),this.starClickChange=new i.vpe,this.ratingChange=new i.vpe,this.hoverRatingChange=new i.vpe}saveOnClick(t){this.starClickChange&&this.starClickChange.emit(t)}saveOnRatingChange(t){this.ratingChange&&this.ratingChange.emit(t)}saveOnHover(t){this.hoverRatingChange&&this.hoverRatingChange.emit(t)}onKeyDown(t){if(!this.interactionPossible())return;const r={Minus:()=>this.decrement(),ArrowDown:()=>this.decrement(),ArrowLeft:()=>this.decrement(),Plus:()=>this.increment(),ArrowRight:()=>this.increment(),ArrowUp:()=>this.increment(),Backspace:()=>this.reset(),Delete:()=>this.reset(),Digit0:()=>this.reset()};(r[t.code]||y.isDigitKeyEventCode(t.code))&&(y.isDigitKeyEventCode(t.code)?(s=>{const h=parseInt(s.substr("Digit".length,s.length-1),10);this.rating=h})(t.code):r[t.code](),t.preventDefault(),t.stopPropagation())}onStarHover(t){this.interactionPossible()&&this.hoverEnabled&&(this.hoverRating=t?parseInt(t.toString(),10):0,this.setColor(!0),this.saveOnHover({hoverRating:this.hoverRating}))}onStopHover(){!this.interactionPossible()||!this.hoverEnabled||(this.hoverRating=0,this.setColor())}setRating(t){const r=this.rating;super.setRating(t),r!==this.rating&&this.saveOnRatingChange({rating:this.rating})}onStarClicked(t){this.interactionPossible()&&(this.rating=t,this.saveOnClick({rating:this.rating}))}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(P))},n.\u0275cmp=i.Xpm({type:n,selectors:[["star-rating"]],inputs:{getHalfStarVisible:"getHalfStarVisible",getColor:"getColor"},outputs:{starClickChange:"starClickChange",ratingChange:"ratingChange",hoverRatingChange:"hoverRatingChange"},features:[i.qOj],decls:4,vars:6,consts:[["tabindex","0",3,"id","keydown","mouseleave"],["class","label-value",4,"ngIf"],[1,"star-container"],["class","star",3,"mouseenter","click",4,"ngFor","ngForOf"],[1,"label-value"],[1,"star",3,"mouseenter","click"],[3,"class",4,"ngIf"],["class","star-empty",4,"ngIf"],["class","star-half",4,"ngIf"],["class","star-filled",4,"ngIf"],[1,"star-empty"],[0,"xmlns","xlink","http://www.w3.org/1999/xlink"],[1,"star-half"],[1,"star-filled"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0),i.NdJ("keydown",function(s){return r.onKeyDown(s)})("mouseleave",function(){return r.onStopHover()}),i.YNc(1,In,2,1,"div",1),i.TgZ(2,"div",2),i.YNc(3,qn,7,6,"div",3),i.qZA()()),2&t&&(i.Gre("rating ",r.getComponentClassNames(),""),i.s9C("id",r.id),i.xp6(1),i.Q6J("ngIf",r.labelText),i.xp6(2),i.Q6J("ngForOf",r.stars))},dependencies:[u.sg,u.O5],encapsulation:2}),n})();const Kn={provide:f,useExisting:(0,i.Gpc)(()=>Ce),multi:!0};let Ce=(()=>{class n extends ye{constructor(t){super(t),this.starClickChange=new i.vpe,this.ratingChange=new i.vpe,this.hoverRatingChange=new i.vpe,this.onModelChangeRegistered=!1,this.onTouchRegistered=!1}saveOnClick(t){this.starClickChange&&this.starClickChange.emit(t)}saveOnRatingChange(t){this.ratingChange&&this.ratingChange.emit(t)}saveOnHover(t){this.hoverRatingChange&&this.hoverRatingChange.emit(t)}saveOnTouch(){this.onTouchRegistered&&this.onTouch()}saveOnModelChange(t){this.onModelChangeRegistered&&this.onModelChange(t)}onKeyDown(t){if(!this.interactionPossible())return;const r={Minus:()=>this.decrement(),ArrowDown:()=>this.decrement(),ArrowLeft:()=>this.decrement(),Plus:()=>this.increment(),ArrowRight:()=>this.increment(),ArrowUp:()=>this.increment(),Backspace:()=>this.reset(),Delete:()=>this.reset(),Digit0:()=>this.reset()};(r[t.code]||y.isDigitKeyEventCode(t.code))&&(y.isDigitKeyEventCode(t.code)?(s=>{const h=parseInt(s.substr("Digit".length,s.length-1),10);this.rating=h})(t.code):r[t.code](),t.preventDefault(),t.stopPropagation()),this.saveOnTouch()}onBlur(t){this.focus=!1,t.preventDefault(),t.stopPropagation(),this.saveOnTouch()}onFocus(t){this.focus=!0,t.preventDefault(),t.stopPropagation(),this.saveOnTouch()}onStarHover(t){this.interactionPossible()&&this.hoverEnabled&&(this.hoverRating=t?parseInt(t.toString(),10):0,this.saveOnHover({hoverRating:this.hoverRating}))}writeValue(t){this.rating=t}registerOnChange(t){this.onModelChange=t,this.onModelChangeRegistered=!0}registerOnTouched(t){this.onTouch=t,this.onTouchRegistered=!0}setRating(t){const r=this.rating;super.setRating(t),r!==this.rating&&(this.saveOnRatingChange({rating:this.rating}),this.saveOnModelChange(this.rating))}onStarClicked(t){this.interactionPossible()&&(this.rating=t,this.saveOnClick({rating:this.rating}))}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(P))},n.\u0275cmp=i.Xpm({type:n,selectors:[["star-rating-control"]],outputs:{starClickChange:"starClickChange",ratingChange:"ratingChange",hoverRatingChange:"hoverRatingChange"},features:[i._Bn([Kn]),i.qOj],decls:4,vars:6,consts:[["tabindex","0",3,"id","keydown","blur","focus","mouseleave"],["class","label-value",4,"ngIf"],[1,"star-container"],["class","star",3,"mouseenter","click",4,"ngFor","ngForOf"],[1,"label-value"],[1,"star",3,"mouseenter","click"],[3,"class",4,"ngIf"],["class","star-empty",4,"ngIf"],["class","star-half",4,"ngIf"],["class","star-filled",4,"ngIf"],[1,"star-empty"],[0,"xmlns","xlink","http://www.w3.org/1999/xlink"],[1,"star-half"],[1,"star-filled"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0),i.NdJ("keydown",function(s){return r.onKeyDown(s)})("blur",function(s){return r.onBlur(s)})("focus",function(s){return r.onFocus(s)})("mouseleave",function(){return r.onStarHover(0)}),i.YNc(1,jn,2,1,"div",1),i.TgZ(2,"div",2),i.YNc(3,Qn,7,6,"div",3),i.qZA()()),2&t&&(i.Gre("rating ",r.getComponentClassNames(),""),i.s9C("id",r.id),i.xp6(1),i.Q6J("ngIf",r.labelText),i.xp6(2),i.Q6J("ngForOf",r.stars))},dependencies:[u.sg,u.O5],encapsulation:2}),n})(),Xn=(()=>{class n{static forRoot(){return{ngModule:n,providers:[P]}}static forChild(){return{ngModule:n,providers:[]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[u.ez]}),n})();var b=l(4975),ti=l(2340),ei=l(529);const lt=ti.N.apiUrl;let Ve=(()=>{class n{constructor(t){this.http=t}getAllBooks(){return this.http.get(`${lt}/books`)}getBookByIsbn(t){return this.http.get(`${lt}/books/${t}`)}searchBooks(t){return this.http.get(`${lt}/books/search/${t}`)}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(ei.eN))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),be=(()=>{class n{transform(t,r){return t+" \u20ac"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=i.Yjl({name:"currencyPipe",type:n,pure:!0}),n})();function ni(n,e){if(1&n&&(i.TgZ(0,"span"),i._uU(1),i._UZ(2,"br"),i.qZA()),2&n){const t=e.$implicit;i.xp6(1),i.hij(" ",t,"")}}function ii(n,e){if(1&n&&(i.TgZ(0,"div",2)(1,"div",3)(2,"div",4),i._UZ(3,"img",5),i.qZA(),i.TgZ(4,"div",6)(5,"table",7)(6,"tr")(7,"td",8),i._uU(8,"ISBN: "),i.qZA(),i.TgZ(9,"td"),i._uU(10),i.qZA()(),i.TgZ(11,"tr")(12,"td",8),i._uU(13,"Title: "),i.qZA(),i.TgZ(14,"td"),i._uU(15),i.qZA()(),i.TgZ(16,"tr")(17,"td",9),i._uU(18,"Author(s): "),i.qZA(),i.TgZ(19,"td"),i.YNc(20,ni,3,1,"span",10),i.qZA()(),i.TgZ(21,"tr")(22,"td",8),i._uU(23,"Price: "),i.qZA(),i.TgZ(24,"td"),i._uU(25),i.ALo(26,"currencyPipe"),i.ALo(27,"currency"),i.qZA()(),i.TgZ(28,"tr")(29,"td",8),i._uU(30,"Published Date: "),i.qZA(),i.TgZ(31,"td"),i._uU(32),i.ALo(33,"date"),i.qZA()(),i.TgZ(34,"tr")(35,"td",8),i._uU(36,"Rating: "),i.qZA(),i.TgZ(37,"td"),i._UZ(38,"star-rating",11),i.qZA()()()(),i.TgZ(39,"div",12)(40,"fieldset",13)(41,"legend",13),i._uU(42,"Description"),i.qZA(),i.TgZ(43,"div"),i._uU(44),i.qZA()()()()()),2&n){const t=i.oxw();i.xp6(3),i.Q6J("src",t.bookSelected.firstThumbnailUrl,i.LSH),i.xp6(7),i.Oqu(t.bookSelected.isbn),i.xp6(5),i.Oqu(t.bookSelected.title),i.xp6(5),i.Q6J("ngForOf",t.bookSelected.authors),i.xp6(5),i.Oqu(i.lcZ(26,10,i.Dn7(27,12,t.bookSelected.price,"",""))),i.xp6(7),i.Oqu(i.xi3(33,16,t.bookSelected.published,"dd/MM/yyyy")),i.xp6(6),i.Q6J("starType","svg")("rating",t.bookSelected.rating)("readOnly",!0),i.xp6(6),i.hij(" Description: ",t.bookSelected.description," ")}}const ri=function(){return["/books"]};let oi=(()=>{class n{constructor(t,r){this.booksSvc=t,this.route=r}ngOnInit(){this.route.params.subscribe(t=>this.getBookByIsbn(t.isbn))}getBookByIsbn(t){this.booksSvc.getBookByIsbn(t).subscribe(r=>this.bookSelected=r)}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(Ve),i.Y36(b.gz))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-detail"]],decls:3,vars:3,consts:[["class","card mb-3 border-dark book-detail",4,"ngIf"],[1,"btn","btn-primary","float-end",3,"routerLink"],[1,"card","mb-3","border-dark","book-detail"],[1,"row","g-0"],[1,"col-2"],["alt","Book cover",1,"cover","img-fluid",3,"src"],[1,"col-4"],[1,"card-table"],[2,"text-align","right"],[2,"text-align","right","vertical-align","top"],[4,"ngFor","ngForOf"],[3,"starType","rating","readOnly"],[1,"col-6"],[1,"reset"]],template:function(t,r){1&t&&(i.YNc(0,ii,45,19,"div",0),i.TgZ(1,"a",1),i._uU(2,"Back"),i.qZA()),2&t&&(i.Q6J("ngIf",void 0!==r.bookSelected),i.xp6(1),i.Q6J("routerLink",i.DdM(2,ri)))},dependencies:[u.sg,u.O5,b.yS,at,u.H9,u.uU,be],styles:[".book-detail[_ngcontent-%COMP%]{margin:20px;padding:5px;border-color:#000}.cover[_ngcontent-%COMP%]{width:200px;height:250px;padding:10px}.info[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0}.card-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px}fieldset[_ngcontent-%COMP%], legend[_ngcontent-%COMP%], .reset[_ngcontent-%COMP%]{all:revert}"]}),n})();var si=l(727);class ai extends si.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const G={setInterval(n,e,...t){const{delegate:r}=G;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=G;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var li=l(8737),ci=l(6063);class F{constructor(e,t=F.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}F.now=ci.l.now;const Ae=new class di extends F{constructor(e,t=F.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}(class ui extends ai{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const o=this.id,s=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(s,o,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return G.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&G.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let o,r=!1;try{this.work(e)}catch(s){r=!0,o=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,li.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}),hi=Ae;var fi=l(7272),Me=l(5698),gi=l(4482),pi=l(5032),_i=l(9718),vi=l(5577);function De(n,e){return e?t=>(0,fi.z)(e.pipe((0,Me.q)(1),function mi(){return(0,gi.e)((n,e)=>{n.subscribe((0,ht.x)(e,pi.Z))})}()),t.pipe(De(n))):(0,vi.z)((t,r)=>n(t,r).pipe((0,Me.q)(1),(0,_i.h)(t)))}var yi=l(3532);function Ai(n,e){if(1&n&&(i.TgZ(0,"span"),i._uU(1),i._UZ(2,"br"),i.qZA()),2&n){const t=e.$implicit;i.xp6(1),i.hij(" ",t,"")}}const Mi=function(n){return["/books",n,"details"]};function Di(n,e){if(1&n&&(i.TgZ(0,"tr")(1,"td",5)(2,"a",6),i._UZ(3,"img",7),i.qZA()(),i.TgZ(4,"td"),i._uU(5),i.qZA(),i.TgZ(6,"td"),i._uU(7),i.qZA(),i.TgZ(8,"td"),i.YNc(9,Ai,3,1,"span",4),i.qZA(),i.TgZ(10,"td"),i._uU(11),i.ALo(12,"currencyPipe"),i.ALo(13,"currency"),i.qZA(),i.TgZ(14,"td"),i._uU(15),i.ALo(16,"date"),i.qZA(),i.TgZ(17,"td"),i._UZ(18,"star-rating",8),i.qZA()()),2&n){const t=e.$implicit;i.xp6(2),i.Q6J("routerLink",i.VKq(19,Mi,t.isbn)),i.xp6(1),i.Q6J("src",t.firstThumbnailUrl,i.LSH),i.xp6(2),i.Oqu(t.isbn),i.xp6(2),i.Oqu(t.title),i.xp6(2),i.Q6J("ngForOf",t.authors),i.xp6(2),i.Oqu(i.lcZ(12,10,i.Dn7(13,12,t.price,"",""))),i.xp6(4),i.Oqu(i.xi3(16,16,t.published,"dd/MM/yyyy")),i.xp6(3),i.Q6J("starType","svg")("rating",t.rating)("readOnly",!0)}}let Oe=(()=>{class n{constructor(t,r){this.booksSvc=t,this.route=r,this.books=[]}ngOnInit(){this.loadBooks(),this.route.params.subscribe(t=>this.search(t.term))}loadBooks(){this.booksSvc.getAllBooks().subscribe(t=>{this.books=t})}search(t){t&&this.booksSvc.searchBooks(t).pipe(function bi(n,e=Ae){const t=function Vi(n=0,e,t=hi){let r=-1;return null!=e&&((0,yi.K)(e)?t=e:r=e),new dt.y(o=>{let s=function Ci(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let a=0;return t.schedule(function(){o.closed||(o.next(a++),0<=r?this.schedule(void 0,r):o.complete())},s)})}(n,e);return De(()=>t)}(100)).subscribe(r=>{this.books=r})}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(Ve),i.Y36(b.gz))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-books"]],decls:20,vars:5,consts:[[1,"row","book-lists"],[1,"table","table-hover"],["scope","col"],["scope","col",2,"text-align","center"],[4,"ngFor","ngForOf"],[1,"text-center"],[3,"routerLink"],["alt","Book cover",1,"cover",3,"src"],[3,"starType","rating","readOnly"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr"),i._UZ(4,"th",2),i.TgZ(5,"th",2),i._uU(6,"ISBN"),i.qZA(),i.TgZ(7,"th",2),i._uU(8,"Title"),i.qZA(),i.TgZ(9,"th",2),i._uU(10,"Author(s)"),i.qZA(),i.TgZ(11,"th",2),i._uU(12,"Price"),i.qZA(),i.TgZ(13,"th",2),i._uU(14,"Published Date"),i.qZA(),i.TgZ(15,"th",3),i._uU(16,"Rating"),i.qZA()()(),i.TgZ(17,"tbody"),i.YNc(18,Di,19,21,"tr",4),i.ALo(19,"slice"),i.qZA()()()),2&t&&(i.xp6(18),i.Q6J("ngForOf",i.Dn7(19,1,r.books,0,10)))},dependencies:[u.sg,b.yS,at,u.OU,u.H9,u.uU,be],styles:[".cover[_ngcontent-%COMP%]{width:80px;height:100px}.books-list[_ngcontent-%COMP%]{margin:20px}"]}),n})();const Oi=[{path:"",component:Oe},{path:":isbn/details",component:oi},{path:"search/:term",component:Oe}];let Si=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[b.Bz.forChild(Oi),b.Bz]}),n})(),Fi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[u.ez,Si,Xn.forRoot()]}),n})()}}]);