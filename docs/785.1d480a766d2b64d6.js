"use strict";(self.webpackChunkbooks_test=self.webpackChunkbooks_test||[]).push([[785],{5785:(xt,m,a)=>{a.r(m),a.d(m,{BooksModule:()=>St});var l=a(6895),t=a(8256),O=a(433);function R(s,i){if(1&s&&(t.TgZ(0,"div",4),t._uU(1),t.qZA()),2&s){const e=t.oxw();t.xp6(1),t.Oqu(e.labelText)}}function A(s,i){if(1&s&&t._UZ(0,"i"),2&s){const e=t.oxw(2);t.Gre("star-empty ",e.classEmpty,"")}}function I(s,i){if(1&s&&t._UZ(0,"i"),2&s){const e=t.oxw(2);t.Gre("star-half ",e.classHalf,"")}}function P(s,i){if(1&s&&t._UZ(0,"i"),2&s){const e=t.oxw(2);t.Gre("star-filled ",e.classFilled,"")}}function w(s,i){if(1&s&&(t.O4$(),t.TgZ(0,"svg",10),t._UZ(1,"use",11),t.qZA()),2&s){const e=t.oxw(2);t.xp6(1),t.uIk("href",e.pathEmpty,null,"xlink")}}function H(s,i){if(1&s&&(t.O4$(),t.TgZ(0,"svg",12),t._UZ(1,"use",11),t.qZA()),2&s){const e=t.oxw(2);t.xp6(1),t.uIk("href",e.pathHalf,null,"xlink")}}function U(s,i){if(1&s&&(t.O4$(),t.TgZ(0,"svg",13),t._UZ(1,"use",11),t.qZA()),2&s){const e=t.oxw(2);t.xp6(1),t.uIk("href",e.pathFilled,null,"xlink")}}function E(s,i){if(1&s){const e=t.EpF();t.TgZ(0,"div",5),t.NdJ("mouseenter",function(){const o=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.onStarHover(o))})("click",function(){const o=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.onStarClicked(o))}),t.YNc(1,A,1,3,"i",6),t.YNc(2,I,1,3,"i",6),t.YNc(3,P,1,3,"i",6),t.YNc(4,w,2,1,"svg",7),t.YNc(5,H,2,1,"svg",8),t.YNc(6,U,2,1,"svg",9),t.qZA()}if(2&s){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.svgVisible()),t.xp6(1),t.Q6J("ngIf",!e.svgVisible()),t.xp6(1),t.Q6J("ngIf",!e.svgVisible()),t.xp6(1),t.Q6J("ngIf",e.svgVisible()),t.xp6(1),t.Q6J("ngIf",e.svgVisible()),t.xp6(1),t.Q6J("ngIf",e.svgVisible())}}function F(s,i){if(1&s&&(t.TgZ(0,"div",4),t._uU(1),t.qZA()),2&s){const e=t.oxw();t.xp6(1),t.Oqu(e.labelText)}}function B(s,i){if(1&s&&t._UZ(0,"i"),2&s){const e=t.oxw(2);t.Gre("star-empty ",e.classEmpty,"")}}function D(s,i){if(1&s&&t._UZ(0,"i"),2&s){const e=t.oxw(2);t.Gre("star-half ",e.classHalf,"")}}function M(s,i){if(1&s&&t._UZ(0,"i"),2&s){const e=t.oxw(2);t.Gre("star-filled ",e.classFilled,"")}}function V(s,i){if(1&s&&(t.O4$(),t.TgZ(0,"svg",10),t._UZ(1,"use",11),t.qZA()),2&s){const e=t.oxw(2);t.xp6(1),t.uIk("href",e.pathEmpty,null,"xlink")}}function q(s,i){if(1&s&&(t.O4$(),t.TgZ(0,"svg",12),t._UZ(1,"use",11),t.qZA()),2&s){const e=t.oxw(2);t.xp6(1),t.uIk("href",e.pathHalf,null,"xlink")}}function N(s,i){if(1&s&&(t.O4$(),t.TgZ(0,"svg",13),t._UZ(1,"use",11),t.qZA()),2&s){const e=t.oxw(2);t.xp6(1),t.uIk("href",e.pathFilled,null,"xlink")}}function J(s,i){if(1&s){const e=t.EpF();t.TgZ(0,"div",5),t.NdJ("mouseenter",function(){const o=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.onStarHover(o))})("click",function(){const o=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.onStarClicked(o))}),t.YNc(1,B,1,3,"i",6),t.YNc(2,D,1,3,"i",6),t.YNc(3,M,1,3,"i",6),t.YNc(4,V,2,1,"svg",7),t.YNc(5,q,2,1,"svg",8),t.YNc(6,N,2,1,"svg",9),t.qZA()}if(2&s){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.svgVisible()),t.xp6(1),t.Q6J("ngIf",!e.svgVisible()),t.xp6(1),t.Q6J("ngIf",!e.svgVisible()),t.xp6(1),t.Q6J("ngIf",e.svgVisible()),t.xp6(1),t.Q6J("ngIf",e.svgVisible()),t.xp6(1),t.Q6J("ngIf",e.svgVisible())}}class h{static getStarsArray(i){const e=[];for(let n=0;n<i;n++)e.push(n+1);return e}static getHalfStarVisible(i){return Math.abs(i%1)>0}static getColor(i,e,n){if(n)return n;const r=e/3;let o="default";return(i=i||0)>0&&(o="negative"),i>r&&(o="ok"),i>2*r&&(o="positive"),o}static isDigitKeyEventCode(i){return 0===i.indexOf("Digit")}}class d{constructor(){this._classEmpty="default-star-empty-icon",this._classHalf="default-star-half-icon",this._classFilled="default-star-filled-icon",this._numOfStars=5,this._size="medium",this._labelPosition="left",this._speed="noticeable",this._starType="svg",this._assetsPath="assets/images/",this._svgPath=this.assetsPath+"star-rating.icons.svg",this._svgEmptySymbolId="star-empty",this._svgHalfSymbolId="star-half",this._svgFilledSymbolId="star-filled",this._svgPathEmpty=this.svgPath+"#"+this.svgEmptySymbolId,this._svgPathHalf=this.svgPath+"#"+this.svgHalfSymbolId,this._svgPathFilled=this.svgPath+"#"+this.svgFilledSymbolId}get classEmpty(){return this._classEmpty}set classEmpty(i){this._classEmpty=i}get classHalf(){return this._classHalf}set classHalf(i){this._classHalf=i}get classFilled(){return this._classFilled}set classFilled(i){this._classFilled=i}get numOfStars(){return this._numOfStars}set numOfStars(i){this._numOfStars=i}get size(){return this._size}set size(i){this._size=i}get staticColor(){return this._staticColor}set staticColor(i){this._staticColor=i}get labelPosition(){return this._labelPosition}set labelPosition(i){this._labelPosition=i}get speed(){return this._speed}set speed(i){this._speed=i}get starType(){return this._starType}set starType(i){this._starType=i}get assetsPath(){return this._assetsPath}set assetsPath(i){this._assetsPath=i}get svgPath(){return this._svgPath}set svgPath(i){this._svgPath=i}get svgEmptySymbolId(){return this._svgEmptySymbolId}set svgEmptySymbolId(i){this._svgEmptySymbolId=i}get svgHalfSymbolId(){return this._svgHalfSymbolId}set svgHalfSymbolId(i){this._svgHalfSymbolId=i}get svgFilledSymbolId(){return this._svgFilledSymbolId}set svgFilledSymbolId(i){this._svgFilledSymbolId=i}get svgPathEmpty(){return this._svgPathEmpty}set svgPathEmpty(i){this._svgPathEmpty=i}get svgPathHalf(){return this._svgPathHalf}set svgPathHalf(i){this._svgPathHalf=i}get svgPathFilled(){return this._svgPathFilled}set svgPathFilled(i){this._svgPathFilled=i}getColor(i,e,n){if(n)return n;const r=e/3;let o="default";return(i=i||0)>0&&(o="negative"),i>r&&(o="ok"),i>2*r&&(o="positive"),o}getHalfStarVisible(i){return Math.abs(i%1)>0}}let b=(()=>{class s{constructor(e){this.config=e,this.classEmpty=this.config.classEmpty,this.classHalf=this.config.classHalf,this.classFilled=this.config.classFilled,this.pathEmpty=this.config.svgPathEmpty,this.pathHalf=this.config.svgPathHalf,this.pathFilled=this.config.svgPathFilled,"getColor"in this.config&&"function"==typeof this.config.getColor&&(this.getColor=this.config.getColor),"getHalfStarVisible"in this.config&&"function"==typeof this.config.getHalfStarVisible&&(this.getHalfStarVisible=this.config.getHalfStarVisible),this.numOfStars=this.config.numOfStars,this.rating=0,this.step=1}get showHalfStars(){return this._showHalfStars}set showHalfStars(e){this._showHalfStars=!!e,this.setHalfStarVisible()}get id(){return this._id}set id(e){this._id=e||""}get focus(){return this._focus}set focus(e){this._focus=!!e}get labelText(){return this._labelText}set labelText(e){this._labelText=e}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition=e||this.config.labelPosition}get labelVisible(){return this._labelVisible}set labelVisible(e){this._labelVisible=!!e}get hoverEnabled(){return this._hoverEnabled}set hoverEnabled(e){this._hoverEnabled=void 0!==e&&!!e}get staticColor(){return this._staticColor||this.config.staticColor||void 0}set staticColor(e){this._staticColor=e,this.setColor()}get direction(){return this._direction}set direction(e){this._direction=e||void 0}get numOfStars(){return this._numOfStars}set numOfStars(e){this._numOfStars=e>0?e:this.config.numOfStars,this.stars=h.getStarsArray(this.numOfStars),this.setColor()}get hoverRating(){return this._hoverRating}set hoverRating(e){this._hoverRating=e>0?e:0}get speed(){return this._speed}set speed(e){this._speed=e||this.config.speed}get size(){return this._size||this.config.size}set size(e){this._size=e}get starType(){return this._starType||this.config.starType}set starType(e){this._starType=e}get space(){return this._space}set space(e){this._space=e}get readOnly(){return this._readOnly}set readOnly(e){this._readOnly=!!e}get disabled(){return this._disabled}set disabled(e){this._disabled=!!e}get step(){return this._step}set step(e){this._step=e>0?e:1}get rating(){return this._rating}set rating(e){this.setRating(e)}setRating(e){let n=0;e>=0&&e<=this.numOfStars&&(n=e),e>this.numOfStars&&(n=this.numOfStars),this._rating=n,this.ratingAsInteger=parseInt(this._rating?.toString(),10),this.setHalfStarVisible(),this.setColor()}svgVisible(){return"svg"===this.starType}interactionPossible(){return!this.readOnly&&!this.disabled}setColor(e=!1){const n=e?this.hoverRating:this.rating;this.color="function"==typeof this.getColor?this.getColor(n,this.numOfStars,this.staticColor):h.getColor(n,this.numOfStars,this.staticColor)}setHalfStarVisible(){this.halfStarVisible=!!this.showHalfStars&&("function"==typeof this.getHalfStarVisible?this.getHalfStarVisible(this.rating):h.getHalfStarVisible(this.rating))}getComponentClassNames(){const e=[];return e.push(this.rating?"value-"+this.ratingAsInteger:"value-0"),e.push(this.halfStarVisible?"half":""),e.push(this.hoverEnabled?"hover":""),e.push(this.hoverEnabled?this.hoverRating?"hover-"+this.hoverRating:"hover-0":""),e.push(this.space?"space-"+this.space:""),e.push(this.labelPosition?"label-"+this.labelPosition:""),e.push(this.color?"color-"+this.color:""),e.push(this.starType?"star-"+this.starType:""),e.push(this.speed),e.push(this.size),e.push(this.readOnly?"read-only":""),e.push(this.disabled?"disabled":""),e.push(this.direction?"direction-"+this.direction:""),e.join(" ")}increment(){const e=Math.abs(this.rating%this.step);this.rating=this.rating+(e>0?this.step-e:this.step)}decrement(){const e=Math.abs(this.rating%this.step);this.rating=this.rating-(e>0?e:this.step)}reset(){this.rating=0}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(d))},s.\u0275cmp=t.Xpm({type:s,selectors:[["placeholder-star-rating"]],inputs:{showHalfStars:"showHalfStars",id:"id",focus:"focus",labelText:"labelText",labelPosition:"labelPosition",labelVisible:"labelVisible",hoverEnabled:"hoverEnabled",staticColor:"staticColor",direction:"direction",numOfStars:"numOfStars",hoverRating:"hoverRating",speed:"speed",size:"size",starType:"starType",space:"space",readOnly:"readOnly",disabled:"disabled",step:"step",rating:"rating"},decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})(),f=(()=>{class s extends b{constructor(e){super(e),this.starClickChange=new t.vpe,this.ratingChange=new t.vpe,this.hoverRatingChange=new t.vpe}saveOnClick(e){this.starClickChange&&this.starClickChange.emit(e)}saveOnRatingChange(e){this.ratingChange&&this.ratingChange.emit(e)}saveOnHover(e){this.hoverRatingChange&&this.hoverRatingChange.emit(e)}onKeyDown(e){if(!this.interactionPossible())return;const n={Minus:()=>this.decrement(),ArrowDown:()=>this.decrement(),ArrowLeft:()=>this.decrement(),Plus:()=>this.increment(),ArrowRight:()=>this.increment(),ArrowUp:()=>this.increment(),Backspace:()=>this.reset(),Delete:()=>this.reset(),Digit0:()=>this.reset()};(n[e.code]||h.isDigitKeyEventCode(e.code))&&(h.isDigitKeyEventCode(e.code)?(o=>{const _=parseInt(o.substr("Digit".length,o.length-1),10);this.rating=_})(e.code):n[e.code](),e.preventDefault(),e.stopPropagation())}onStarHover(e){this.interactionPossible()&&this.hoverEnabled&&(this.hoverRating=e?parseInt(e.toString(),10):0,this.setColor(!0),this.saveOnHover({hoverRating:this.hoverRating}))}onStopHover(){!this.interactionPossible()||!this.hoverEnabled||(this.hoverRating=0,this.setColor())}setRating(e){const n=this.rating;super.setRating(e),n!==this.rating&&this.saveOnRatingChange({rating:this.rating})}onStarClicked(e){this.interactionPossible()&&(this.rating=e,this.saveOnClick({rating:this.rating}))}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(d))},s.\u0275cmp=t.Xpm({type:s,selectors:[["star-rating"]],inputs:{getHalfStarVisible:"getHalfStarVisible",getColor:"getColor"},outputs:{starClickChange:"starClickChange",ratingChange:"ratingChange",hoverRatingChange:"hoverRatingChange"},features:[t.qOj],decls:4,vars:6,consts:[["tabindex","0",3,"id","keydown","mouseleave"],["class","label-value",4,"ngIf"],[1,"star-container"],["class","star",3,"mouseenter","click",4,"ngFor","ngForOf"],[1,"label-value"],[1,"star",3,"mouseenter","click"],[3,"class",4,"ngIf"],["class","star-empty",4,"ngIf"],["class","star-half",4,"ngIf"],["class","star-filled",4,"ngIf"],[1,"star-empty"],[0,"xmlns","xlink","http://www.w3.org/1999/xlink"],[1,"star-half"],[1,"star-filled"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.NdJ("keydown",function(o){return n.onKeyDown(o)})("mouseleave",function(){return n.onStopHover()}),t.YNc(1,R,2,1,"div",1),t.TgZ(2,"div",2),t.YNc(3,E,7,6,"div",3),t.qZA()()),2&e&&(t.Gre("rating ",n.getComponentClassNames(),""),t.s9C("id",n.id),t.xp6(1),t.Q6J("ngIf",n.labelText),t.xp6(2),t.Q6J("ngForOf",n.stars))},dependencies:[l.sg,l.O5],encapsulation:2}),s})();const Y={provide:O.JU,useExisting:(0,t.Gpc)(()=>C),multi:!0};let C=(()=>{class s extends b{constructor(e){super(e),this.starClickChange=new t.vpe,this.ratingChange=new t.vpe,this.hoverRatingChange=new t.vpe,this.onModelChangeRegistered=!1,this.onTouchRegistered=!1}saveOnClick(e){this.starClickChange&&this.starClickChange.emit(e)}saveOnRatingChange(e){this.ratingChange&&this.ratingChange.emit(e)}saveOnHover(e){this.hoverRatingChange&&this.hoverRatingChange.emit(e)}saveOnTouch(){this.onTouchRegistered&&this.onTouch()}saveOnModelChange(e){this.onModelChangeRegistered&&this.onModelChange(e)}onKeyDown(e){if(!this.interactionPossible())return;const n={Minus:()=>this.decrement(),ArrowDown:()=>this.decrement(),ArrowLeft:()=>this.decrement(),Plus:()=>this.increment(),ArrowRight:()=>this.increment(),ArrowUp:()=>this.increment(),Backspace:()=>this.reset(),Delete:()=>this.reset(),Digit0:()=>this.reset()};(n[e.code]||h.isDigitKeyEventCode(e.code))&&(h.isDigitKeyEventCode(e.code)?(o=>{const _=parseInt(o.substr("Digit".length,o.length-1),10);this.rating=_})(e.code):n[e.code](),e.preventDefault(),e.stopPropagation()),this.saveOnTouch()}onBlur(e){this.focus=!1,e.preventDefault(),e.stopPropagation(),this.saveOnTouch()}onFocus(e){this.focus=!0,e.preventDefault(),e.stopPropagation(),this.saveOnTouch()}onStarHover(e){this.interactionPossible()&&this.hoverEnabled&&(this.hoverRating=e?parseInt(e.toString(),10):0,this.saveOnHover({hoverRating:this.hoverRating}))}writeValue(e){this.rating=e}registerOnChange(e){this.onModelChange=e,this.onModelChangeRegistered=!0}registerOnTouched(e){this.onTouch=e,this.onTouchRegistered=!0}setRating(e){const n=this.rating;super.setRating(e),n!==this.rating&&(this.saveOnRatingChange({rating:this.rating}),this.saveOnModelChange(this.rating))}onStarClicked(e){this.interactionPossible()&&(this.rating=e,this.saveOnClick({rating:this.rating}))}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(d))},s.\u0275cmp=t.Xpm({type:s,selectors:[["star-rating-control"]],outputs:{starClickChange:"starClickChange",ratingChange:"ratingChange",hoverRatingChange:"hoverRatingChange"},features:[t._Bn([Y]),t.qOj],decls:4,vars:6,consts:[["tabindex","0",3,"id","keydown","blur","focus","mouseleave"],["class","label-value",4,"ngIf"],[1,"star-container"],["class","star",3,"mouseenter","click",4,"ngFor","ngForOf"],[1,"label-value"],[1,"star",3,"mouseenter","click"],[3,"class",4,"ngIf"],["class","star-empty",4,"ngIf"],["class","star-half",4,"ngIf"],["class","star-filled",4,"ngIf"],[1,"star-empty"],[0,"xmlns","xlink","http://www.w3.org/1999/xlink"],[1,"star-half"],[1,"star-filled"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.NdJ("keydown",function(o){return n.onKeyDown(o)})("blur",function(o){return n.onBlur(o)})("focus",function(o){return n.onFocus(o)})("mouseleave",function(){return n.onStarHover(0)}),t.YNc(1,F,2,1,"div",1),t.TgZ(2,"div",2),t.YNc(3,J,7,6,"div",3),t.qZA()()),2&e&&(t.Gre("rating ",n.getComponentClassNames(),""),t.s9C("id",n.id),t.xp6(1),t.Q6J("ngIf",n.labelText),t.xp6(2),t.Q6J("ngForOf",n.stars))},dependencies:[l.sg,l.O5],encapsulation:2}),s})(),Q=(()=>{class s{static forRoot(){return{ngModule:s,providers:[d]}}static forChild(){return{ngModule:s,providers:[]}}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[l.ez]}),s})();var g=a(4975),z=a(2340),$=a(529);const v=z.N.apiUrl;let y=(()=>{class s{constructor(e){this.http=e}getAllBooks(){return this.http.get(`${v}/books`)}getBookByIsbn(e){return this.http.get(`${v}/books/${e}`)}searchBooks(e){return this.http.get(`${v}/books/search/${e}`)}}return s.\u0275fac=function(e){return new(e||s)(t.LFG($.eN))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),S=(()=>{class s{transform(e,n){return e+" \u20ac"}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275pipe=t.Yjl({name:"currencyPipe",type:s,pure:!0}),s})();function L(s,i){if(1&s&&(t.TgZ(0,"span"),t._uU(1),t._UZ(2,"br"),t.qZA()),2&s){const e=i.$implicit;t.xp6(1),t.hij(" ",e,"")}}function G(s,i){if(1&s&&(t.TgZ(0,"div",2)(1,"div",3)(2,"div",4),t._UZ(3,"img",5),t.qZA(),t.TgZ(4,"div",6)(5,"table",7)(6,"tr")(7,"td",8),t._uU(8,"ISBN: "),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA()(),t.TgZ(11,"tr")(12,"td",8),t._uU(13,"Title: "),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA()(),t.TgZ(16,"tr")(17,"td",9),t._uU(18,"Author(s): "),t.qZA(),t.TgZ(19,"td"),t.YNc(20,L,3,1,"span",10),t.qZA()(),t.TgZ(21,"tr")(22,"td",8),t._uU(23,"Price: "),t.qZA(),t.TgZ(24,"td"),t._uU(25),t.ALo(26,"currencyPipe"),t.ALo(27,"currency"),t.qZA()(),t.TgZ(28,"tr")(29,"td",8),t._uU(30,"Published Date: "),t.qZA(),t.TgZ(31,"td"),t._uU(32),t.ALo(33,"date"),t.qZA()(),t.TgZ(34,"tr")(35,"td",8),t._uU(36,"Rating: "),t.qZA(),t.TgZ(37,"td"),t._UZ(38,"star-rating",11),t.qZA()()()(),t.TgZ(39,"div",12)(40,"fieldset",13)(41,"legend",13),t._uU(42,"Description"),t.qZA(),t.TgZ(43,"div"),t._uU(44),t.qZA()()()()()),2&s){const e=t.oxw();t.xp6(3),t.Q6J("src",e.bookSelected.firstThumbnailUrl,t.LSH),t.xp6(7),t.Oqu(e.bookSelected.isbn),t.xp6(5),t.Oqu(e.bookSelected.title),t.xp6(5),t.Q6J("ngForOf",e.bookSelected.authors),t.xp6(5),t.Oqu(t.lcZ(26,10,t.Dn7(27,12,e.bookSelected.price,"",""))),t.xp6(7),t.Oqu(t.xi3(33,16,e.bookSelected.published,"dd/MM/yyyy")),t.xp6(6),t.Q6J("starType","svg")("rating",e.bookSelected.rating)("readOnly",!0),t.xp6(6),t.hij(" Description: ",e.bookSelected.description," ")}}const K=function(){return["/books"]};let j=(()=>{class s{constructor(e,n){this.booksSvc=e,this.route=n}ngOnInit(){this.route.params.subscribe(e=>this.getBookByIsbn(e.isbn))}getBookByIsbn(e){this.booksSvc.getBookByIsbn(e).subscribe(n=>this.bookSelected=n)}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(y),t.Y36(g.gz))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-detail"]],decls:3,vars:3,consts:[["class","card mb-3 border-dark book-detail",4,"ngIf"],[1,"btn","btn-primary","float-end",3,"routerLink"],[1,"card","mb-3","border-dark","book-detail"],[1,"row","g-0"],[1,"col-2"],["alt","Book cover",1,"cover","img-fluid",3,"src"],[1,"col-4"],[1,"card-table"],[2,"text-align","right"],[2,"text-align","right","vertical-align","top"],[4,"ngFor","ngForOf"],[3,"starType","rating","readOnly"],[1,"col-6"],[1,"reset"]],template:function(e,n){1&e&&(t.YNc(0,G,45,19,"div",0),t.TgZ(1,"a",1),t._uU(2,"Back"),t.qZA()),2&e&&(t.Q6J("ngIf",void 0!==n.bookSelected),t.xp6(1),t.Q6J("routerLink",t.DdM(2,K)))},dependencies:[l.sg,l.O5,g.yS,f,l.H9,l.uU,S],styles:[".book-detail[_ngcontent-%COMP%]{margin:20px;padding:5px;border-color:#000}.cover[_ngcontent-%COMP%]{width:200px;height:250px;padding:10px}.info[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0}.card-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px}fieldset[_ngcontent-%COMP%], legend[_ngcontent-%COMP%], .reset[_ngcontent-%COMP%]{all:revert}"]}),s})();var X=a(727);class W extends X.w0{constructor(i,e){super()}schedule(i,e=0){return this}}const p={setInterval(s,i,...e){const{delegate:n}=p;return n?.setInterval?n.setInterval(s,i,...e):setInterval(s,i,...e)},clearInterval(s){const{delegate:i}=p;return(i?.clearInterval||clearInterval)(s)},delegate:void 0};var tt=a(8737),st=a(6063);class u{constructor(i,e=u.now){this.schedulerActionCtor=i,this.now=e}schedule(i,e=0,n){return new this.schedulerActionCtor(this,i).schedule(n,e)}}u.now=st.l.now;const x=new class it extends u{constructor(i,e=u.now){super(i,e),this.actions=[],this._active=!1}flush(i){const{actions:e}=this;if(this._active)return void e.push(i);let n;this._active=!0;do{if(n=i.execute(i.state,i.delay))break}while(i=e.shift());if(this._active=!1,n){for(;i=e.shift();)i.unsubscribe();throw n}}}(class et extends W{constructor(i,e){super(i,e),this.scheduler=i,this.work=e,this.pending=!1}schedule(i,e=0){var n;if(this.closed)return this;this.state=i;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(o,this.id,e),this}requestAsyncId(i,e,n=0){return p.setInterval(i.flush.bind(i,this),n)}recycleAsyncId(i,e,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return e;null!=e&&p.clearInterval(e)}execute(i,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(i,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(i,e){let r,n=!1;try{this.work(i)}catch(o){n=!0,r=o||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:i,scheduler:e}=this,{actions:n}=e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,tt.P)(n,this),null!=i&&(this.id=this.recycleAsyncId(e,i,null)),this.delay=null,super.unsubscribe()}}}),nt=x;var ot=a(7272),T=a(5698),rt=a(4482),at=a(5403),lt=a(5032),ht=a(9718),gt=a(5577);function k(s,i){return i?e=>(0,ot.z)(i.pipe((0,T.q)(1),function ct(){return(0,rt.e)((s,i)=>{s.subscribe((0,at.x)(i,lt.Z))})}()),e.pipe(k(s))):(0,gt.z)((e,n)=>s(e,n).pipe((0,T.q)(1),(0,ht.h)(e)))}var ut=a(9751),dt=a(3532);function _t(s,i){if(1&s&&(t.TgZ(0,"span"),t._uU(1),t._UZ(2,"br"),t.qZA()),2&s){const e=i.$implicit;t.xp6(1),t.hij(" ",e,"")}}const mt=function(s){return["/books",s,"details"]};function bt(s,i){if(1&s&&(t.TgZ(0,"tr")(1,"td",5)(2,"a",6),t._UZ(3,"img",7),t.qZA()(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t.YNc(9,_t,3,1,"span",4),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.ALo(12,"currencyPipe"),t.ALo(13,"currency"),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.ALo(16,"date"),t.qZA(),t.TgZ(17,"td"),t._UZ(18,"star-rating",8),t.qZA()()),2&s){const e=i.$implicit;t.xp6(2),t.Q6J("routerLink",t.VKq(19,mt,e.isbn)),t.xp6(1),t.Q6J("src",e.firstThumbnailUrl,t.LSH),t.xp6(2),t.Oqu(e.isbn),t.xp6(2),t.Oqu(e.title),t.xp6(2),t.Q6J("ngForOf",e.authors),t.xp6(2),t.Oqu(t.lcZ(12,10,t.Dn7(13,12,e.price,"",""))),t.xp6(4),t.Oqu(t.xi3(16,16,e.published,"dd/MM/yyyy")),t.xp6(3),t.Q6J("starType","svg")("rating",e.rating)("readOnly",!0)}}let Z=(()=>{class s{constructor(e,n){this.booksSvc=e,this.route=n,this.books=[]}ngOnInit(){this.loadBooks(),this.route.params.subscribe(e=>this.search(e.term))}loadBooks(){this.booksSvc.getAllBooks().subscribe(e=>{this.books=e})}search(e){e&&this.booksSvc.searchBooks(e).pipe(function vt(s,i=x){const e=function ft(s=0,i,e=nt){let n=-1;return null!=i&&((0,dt.K)(i)?e=i:n=i),new ut.y(r=>{let o=function pt(s){return s instanceof Date&&!isNaN(s)}(s)?+s-e.now():s;o<0&&(o=0);let c=0;return e.schedule(function(){r.closed||(r.next(c++),0<=n?this.schedule(void 0,n):r.complete())},o)})}(s,i);return k(()=>e)}(100)).subscribe(n=>{this.books=n})}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(y),t.Y36(g.gz))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-books"]],decls:20,vars:5,consts:[[1,"row","book-lists"],[1,"table","table-hover"],["scope","col"],["scope","col",2,"text-align","center"],[4,"ngFor","ngForOf"],[1,"text-center"],[3,"routerLink"],["alt","Book cover",1,"cover",3,"src"],[3,"starType","rating","readOnly"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr"),t._UZ(4,"th",2),t.TgZ(5,"th",2),t._uU(6,"ISBN"),t.qZA(),t.TgZ(7,"th",2),t._uU(8,"Title"),t.qZA(),t.TgZ(9,"th",2),t._uU(10,"Author(s)"),t.qZA(),t.TgZ(11,"th",2),t._uU(12,"Price"),t.qZA(),t.TgZ(13,"th",2),t._uU(14,"Published Date"),t.qZA(),t.TgZ(15,"th",3),t._uU(16,"Rating"),t.qZA()()(),t.TgZ(17,"tbody"),t.YNc(18,bt,19,21,"tr",4),t.ALo(19,"slice"),t.qZA()()()),2&e&&(t.xp6(18),t.Q6J("ngForOf",t.Dn7(19,1,n.books,0,10)))},dependencies:[l.sg,g.yS,f,l.OU,l.H9,l.uU,S],styles:[".cover[_ngcontent-%COMP%]{width:80px;height:100px}.books-list[_ngcontent-%COMP%]{margin:20px}"]}),s})();const Ct=[{path:"",component:Z},{path:":isbn/details",component:j},{path:"search/:term",component:Z}];let yt=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[g.Bz.forChild(Ct),g.Bz]}),s})(),St=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[l.ez,yt,Q.forRoot()]}),s})()}}]);